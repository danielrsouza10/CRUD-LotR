<mvc:View
    height="100%"
    controllerName="ui5.o_senhor_dos_aneis.controller.ListaPersonagens"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
>
    <Page
        showHeader="true"
        enableScrolling="true"
        class="sapUiContentPadding"
        showNavButton="true"
        navButtonPress="onNavBack"
    >
        <content>
            <List
                id="listaDePersonagens"
                headerText="Custom Content"
                mode="Delete"
                items="{personagens>/}"
                growing="true"
                growingThreshold="5"
            >
                <headerToolbar>
                    <OverflowToolbar id="listToolbar">
                        <Title text="Personagens" />
                        <ToolbarSpacer />
                        <SearchField
                            width="50%"
                            search=".onFiltrarPersonagens"
                        />
                        <Button
                            type="Transparent"
                            text="Reset"
                            press=".onReset"
                        />
                        <OverflowToolbarButton
                            tooltip="Filter"
                            type="Transparent"
                            text="Filter"
                            icon="sap-icon://filter"
                            press=".onOpenDialogoDeFiltro"
                        />
                        <OverflowToolbarButton
                            tooltip="Sort"
                            type="Transparent"
                            text="Sort"
                            icon="sap-icon://sort"
                            press="onSort"
                        />
                        <OverflowToolbarButton
                            tooltip="Group"
                            type="Transparent"
                            text="Group"
                            icon="sap-icon://group-2"
                            press="onGroup"
                        />
                    </OverflowToolbar>
                </headerToolbar>

                <CustomListItem id="customListPersonagens">
                    <HBox>
                        <core:Icon
                            size="2rem"
                            src="sap-icon://attachment-photo"
                            class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"
                        />
                        <VBox
                            class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"
                        >
                            <ObjectIdentifier
                                title="{personagens>nome}"
                                class="sapUiTinyMarginBottom"
                            />
                            <FlexBox>
                                <Label
                                    text="Raça:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text text="{personagens>raca}" />
                            </FlexBox>
                            <FlexBox>
                                <Label
                                    text="Profissão:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text text="{personagens>profissao}" />
                            </FlexBox>
                            <FlexBox>
                                <Label
                                    text="Condição:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text
                                    text="{
                                        path: 'personagens>estaVivo',
                                        formatter: '.formatter.formatarBooleanVivoMorto'
                                    }"
                                />
                            </FlexBox>
                            <FlexBox>
                                <Label
                                    text="Data do Cadastro:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text
                                    text="{
                                    path: 'personagens>dataDoCadastro',
                                    formatter: '.formatter.formatarDataDeCadastro'
                                }"
                                />
                            </FlexBox>
                        </VBox>
                    </HBox>
                </CustomListItem>
            </List>
        </content>
        <footer>
            <OverflowToolbar id="otbFooter">
                <ToolbarSpacer />
                <Button
                    type="Accept"
                    text="Adicionar"
                >
                    <layoutData>
                        <OverflowToolbarLayoutData priority="High" />
                    </layoutData>
                </Button>
                <Button
                    type="Reject"
                    text="Remover"
                >
                    <layoutData>
                        <OverflowToolbarLayoutData priority="Low" />
                    </layoutData>
                </Button>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>
